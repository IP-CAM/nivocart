/*
 panels.min.js v1.0.2 | @villagedefrance | Overclocked Edition | GNU GPL3 Licensed
*/
function setUpPanels(){loadSettings();for(var a=document.getElementsByTagName(PANEL_HEADING_TAG),b=0;b<a.length;b++){var c=a[b];if(c.parentNode.className==PANEL_NORMAL_CLASS||c.parentNode.className==PANEL_COLLAPSED_CLASS){var d=c.firstChild.nodeValue;"false"==panelsStatus[d]?c.parentNode.className=PANEL_COLLAPSED_CLASS:"true"==panelsStatus[d]?c.parentNode.className=PANEL_NORMAL_CLASS:panelsStatus[d]=c.parentNode.className==PANEL_NORMAL_CLASS?"true":"false",c.onclick=function(){var a=this.parentNode,b=this.firstChild.nodeValue,c=a.className==PANEL_COLLAPSED_CLASS;saveSettings(b,c?"true":"false"),animateTogglePanel(a,c)}}}}function animateTogglePanel(a,b){for(var c=a.getElementsByTagName("div"),d=null,e=0;e<c.length;e++)if(c[e].className==PANEL_CONTENT_CLASS){d=c[e];break}d.style.display="block";var f=d.offsetHeight;b&&(d.style.height="0px");var g=f/PANEL_ANIMATION_STEPS,h=b?1:-1;setTimeout(function(){animateStep(d,1,g,h)},PANEL_ANIMATION_DELAY)}function animateStep(a,b,c,d){b<PANEL_ANIMATION_STEPS?(a.style.height=Math.round((d>0?b:10-b)*c)+"px",b++,setTimeout(function(){animateStep(a,b,c,d)},PANEL_ANIMATION_DELAY)):(a.parentNode.className=d<0?PANEL_COLLAPSED_CLASS:PANEL_NORMAL_CLASS,a.style.display=a.style.height="")}function loadSettings(){panelsStatus={};var a=document.cookie.indexOf(PANEL_COOKIE_NAME+"=");if(-1!=a){a+=PANEL_COOKIE_NAME.length+1;var b=document.cookie.indexOf(";",a);-1==b&&(b=document.cookie.length);for(var c=unescape(document.cookie.substring(a,b)),d=c.split("|"),e=0;e<d.length;e++){var f=d[e].split(":");panelsStatus[f[0]]=f[1]}}}function expandAll(){for(var a in panelsStatus)saveSettings(a,"true");setUpPanels()}function collapseAll(){for(var a in panelsStatus)saveSettings(a,"false");setUpPanels()}function saveSettings(a,b){panelsStatus[a]=b;var c=[];for(var a in panelsStatus)c.push(a+":"+panelsStatus[a]);var d=new Date,e=new Date(d.getTime()+31536e6);document.cookie=PANEL_COOKIE_NAME+"="+escape(c.join("|"))+";expires="+e.toGMTString()}var PANEL_NORMAL_CLASS="panel",PANEL_COLLAPSED_CLASS="panel-collapsed",PANEL_HEADING_TAG="h3",PANEL_CONTENT_CLASS="panel-content",PANEL_COOKIE_NAME="panels",PANEL_ANIMATION_DELAY=24,PANEL_ANIMATION_STEPS=6;window.addEventListener?window.addEventListener("load",setUpPanels,!1):window.attachEvent&&window.attachEvent("onload",setUpPanels);
